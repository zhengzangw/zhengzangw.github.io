<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Solution to HW 1 | Zangwei</title>

    
    <link rel="stylesheet" href="/scss/main.min.6c4d523b15a1f1714ec1a02eecf7283de3733cb142ca8bf9edd01f9f077cc730.css" integity="sha256-bE1SOxWh8XFOwaAu7PcoPeNzPLFCyov57dAfnwd8xzA=">

    <script type="text/javascript" src="/js/dark.js"></script>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script>
  MathJax = {
    tex: {
      inlineMath: [["$", "$"]],
    },
    displayMath: [
      ["$$", "$$"],
      ["\[\[", "\]\]"],
    ],
    svg: {
      fontCache: "global",
    },
  };

</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
></script>

    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
    <link rel="manifest" href="/favicon/site.webmanifest">
</head><body class="app auto flex-container">
    <div class="flex-container flex-column"><nav>
    <hr>
    <div class="flex-container flex-row flex-row-full">
        
        <div class="nav-item">
            <a href="/about">[ About ]</a>
        </div>
        
        <div class="nav-item">
            <a href="/pdfs/resume.pdf">[ CV ]</a>
        </div>
        
        <div class="nav-item">
            <a href="/#Publications">[ Publication ]</a>
        </div>
        
        <div class="nav-item">
            <a href="/#Teaching-Assistant">[ Teaching ]</a>
        </div>
        
        <div class="nav-item">
            <a href="/notes">[ Notes ]</a>
        </div>
        
        <div class="nav-item">
            <a href="/friends">[ Friends ]</a>
        </div>
        
        <div class="nav-item btn btn-switch">
            <a>[ <span class="theme-name">Auto</span> ]</a>
        </div>
    </div>
    <hr>
</nav>
<div class="flex-passage flex-row flex-row-full">
            <div class="flex-column-20">
                <div class="return">
                    <a href=".."> RETURN </a>
                </div>
                <nav id="TableOfContents">
  <ul>
    <li><a href="#海盗分金">海盗分金</a></li>
    <li><a href="#扔鸡蛋">扔鸡蛋</a>
      <ul>
        <li><a href="#必做题">必做题</a></li>
        <li><a href="#选做">选做</a></li>
      </ul>
    </li>
  </ul>
</nav>
            </div>
            <main class="flex-column-80"><p>作业评分：每题 10 分，选做属于加分题</p>
<p><strong>一些共性的问题</strong>：</p>
<ul>
<li>作业只收到 41 份，名单有 54 位同学，请确认自己已经提交作业</li>
<li>作业严禁抄袭</li>
<li>作业记得写好学号姓名，并用订书钉或回形针等方式装订好</li>
<li>许多同学表示不会写伪代码
<ul>
<li>作业都只需要给出伪代码，理论上不应该使用任何一种实际的编程语言书写（如 java/c/python）很多同学作业中伪代码直接交了可运行的代码，这样书写很费时间，同时也没法很好展示自己的思路</li>
<li>写伪代码主要在于展现算法思路，只需要保留核心算法部分即可。一些辅助函数在说明了功能后可以直接使用，没必要完整的写出来。这里放一篇 pseudo code 的<a href="https://www.geeksforgeeks.org/how-to-write-a-pseudo-code/">参考文章</a></li>
<li>大家可以看一下教程上给的代码示例，如 4.8 Heapsort 这一章的伪代码</li>
</ul>
</li>
</ul>
<h2 id="海盗分金">海盗分金</h2>
<p>上交作业的同学必做部分（m=5）基本都得分了。泛化的情况属于选做部分，很多同学都给出了思路，主要失分点在于没有考虑到&quot;乐观&quot;这一条件</p>
<p>以下给一个 <code>python</code> 参考代码</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">solve</span>(m, n):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;解决海盗分金问题，时间复杂度 O(m^2lgm)；使用一些技巧可优化到 O(m^2)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Args:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        m (int): 海盗数
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        n (int): 金币数
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Returns:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        (list): 由第一个人分配，每个人期望分到的金币数，-1 表示无法存活
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 临界情况</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> m <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> [n]
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 递归：规约问题到 m-1 个海盗</span>
</span></span><span style="display:flex;"><span>    plan <span style="color:#f92672">=</span> solve(m<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, n)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 按照 m-1 个海盗时每个人期望获得的金币数从小到大排序</span>
</span></span><span style="display:flex;"><span>    sorted_plan <span style="color:#f92672">=</span> sorted(zip(plan, list(range(m<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>))))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    current_plan <span style="color:#f92672">=</span> [<span style="color:#ae81ff">0</span>] <span style="color:#f92672">*</span> m
</span></span><span style="display:flex;"><span>    remain_money <span style="color:#f92672">=</span> n
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 第一个海盗需要在剩下 m 个海盗中争取到 m/2（下取整）个同意票</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(m<span style="color:#f92672">//</span><span style="color:#ae81ff">2</span>):
</span></span><span style="display:flex;"><span>        expected_money, member_id <span style="color:#f92672">=</span> sorted_plan[i]
</span></span><span style="display:flex;"><span>        expected_money <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>  <span style="color:#75715e"># 嗜血：需要多给一个金币赢取同意</span>
</span></span><span style="display:flex;"><span>        remain_money <span style="color:#f92672">-=</span> expected_money
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># 如果金币不够分了，则无法存活</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> remain_money <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> plan <span style="color:#f92672">+</span> [<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            current_plan[member_id] <span style="color:#f92672">=</span> expected_money
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 第一个海盗可以获得剩余所有金币</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 注意：到目前为止，去除 -1，current_plan 之和为 n</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 此时得到的是一个可行的分配方案</span>
</span></span><span style="display:flex;"><span>    current_plan[<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> remain_money
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 乐观：对于最后需要赢得同意的海盗，可能只需在多人中选部分即可</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 但所有持相同期望金币的都认为自己会被选到，在此要更新他们认为的期望金币</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># n &gt;= 6 时乐观起作用</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">&lt;</span> m <span style="color:#f92672">and</span> sorted_plan[i][<span style="color:#ae81ff">0</span>] <span style="color:#f92672">==</span> sorted_plan[i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>][<span style="color:#ae81ff">0</span>]:
</span></span><span style="display:flex;"><span>        i <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        expected_money, member_id <span style="color:#f92672">=</span> sorted_plan[i]
</span></span><span style="display:flex;"><span>        current_plan[member_id] <span style="color:#f92672">=</span> expected_money <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> current_plan
</span></span></code></pre></div><h2 id="扔鸡蛋">扔鸡蛋</h2>
<h3 id="必做题">必做题</h3>
<p>为了计算 $f(k,m)$，假设在第 $i$ 层楼扔一个蛋。如果碎了，我们还剩 $k-1$ 个蛋，强度肯定小于 $i$，故问题化为 $f(k-1, i)$；如果没碎，把第 $i$ 层楼看做是新的一楼，则问题化为 $f(k, m-i)$。最坏情况是两者的最大值，为了取得最优，我们选择最佳的第 $i$ 层。</p>
<p>故递归为 $f(k,m)=\min{(\max{f(k-1,i),f(k,m-i)})+1|1\leq i\leq m}$</p>
<p>部分同学没有避免重复计算。可以把算过的值放在二维数组中保存起来，遇到相同计算时直接使用数组中的值。该方法时间复杂度 $O(n^3)$</p>
<h3 id="选做">选做</h3>
<p>可参考文章：从《鹰蛋》一题浅析对动态规划算法的优化</p>
<ul>
<li><a href="https://wenku.baidu.com/view/7c9de809581b6bd97f19ea72.html?sxts=1600782136301&amp;word=%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%AE%97%E6%B3%95%E4%BE%8B%E9%A2%98">pdf</a></li>
<li><a href="https://wenku.baidu.com/view/7d57940ef12d2af90242e6ac.html#">slides</a></li>
</ul>
<p>选做部分如果没有解释或解释不清也适当扣分。很多同学看了题解做题，希望至少把题解看懂了再写上来</p>
</main>
        </div>

    </div>
</body></html>